---

    - name: Installing common base packages (Debian)
      become: true
      become_user: root
      apt:
        name: "{{item}}"
        state: installed
      with_items: [pkg-config, git-core, make, gcc, g++, autoconf, automake, autoconf-archive, libtool, autotools-dev, libicu-dev, libxml2-dev, libxslt1-dev, libbz2-dev, zlib1g-dev, libtar-dev, libaspell-dev, libhunspell-dev, libboost-all-dev, python3, python3-dev, wget, curl, libexttextcat-dev] #$PIPPACKAGE $VENVPACKAGE $GNUTLS libcurl4-gnutls-dev wget curl libexttextcat-dev libatlas-dev libblas-dev gfortran libsuitesparse-dev libfreetype6-dev myspell-nl perl default-jre tesseract-ocr tesseract-ocr-eng tesseract-ocr-nld tesseract-ocr-deu tesseract-ocr-deu-frak tesseract-ocr-fra poppler-utils djvulibre-bin libdjvulibre-text imagemagick
      when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and root == True

    - name: Adding key for keyserver.ubuntu.com #needed for ansible installation
      become: true
      become_user: root
      apt_key:
        keyserver: keyserver.ubuntu.com
        id: 93C4A3FD7BB9C367
      when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and root == True

    - name: Adding Ansibile APT repository
      apt_repository:
        repo: deb http://ppa.launchpad.net/ansible/ansible/ubuntu trusty main #should work on jessie/stretch as well
        state: present
      when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and root == True

    - name: Install Ansible (APT)
      become: true
      become_user: root
      apt:
          name: ansible
          state: latest
          update_cache: yes
      when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and root == True

